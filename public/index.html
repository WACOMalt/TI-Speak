<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TI-Speak | TI-99/4A Speech Synthesizer</title>
    <meta name="description"
        content="TI-99/4A TMS5220 Speech Synthesizer Simulator - Experience the iconic robotic voice of the 1980s">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=VT323&family=Roboto:wght@400;700&display=swap"
        rel="stylesheet">
</head>

<body>
    <div class="scanlines"></div>
    <div class="container">
        <header class="header">
            <div class="ti-logo">
                <span class="ti-text">TI</span>
                <span class="model">99/4A</span>
            </div>
            <h1 class="title">SPEECH SYNTHESIZER</h1>
            <p class="subtitle">TMS5220 Simulator</p>
        </header>

        <main class="main-content">
            <!-- Text Input Section -->
            <section class="input-section">
                <div class="section-header">
                    <span class="led"></span>
                    <h2>Text Input</h2>
                </div>
                <div class="input-container">
                    <textarea id="textInput" placeholder="Type text to speak... or use /phoneme notation/"
                        rows="4">HELLO WORLD</textarea>
                    <div class="phoneme-preview">
                        <span class="label">Phonemes:</span>
                        <span id="phonemePreview" class="phonemes">-</span>
                    </div>
                </div>
            </section>

            <!-- Controls Section -->
            <section class="controls-section">
                <div class="button-group">
                    <button id="speakBtn" class="btn btn-primary">
                        <span class="btn-icon">▶</span>
                        SPEAK
                    </button>
                    <button id="stopBtn" class="btn btn-secondary" disabled>
                        <span class="btn-icon">■</span>
                        STOP
                    </button>
                    <button id="downloadBtn" class="btn btn-secondary" disabled>
                        <span class="btn-icon">↓</span>
                        DOWNLOAD WAV
                    </button>
                </div>
                <div class="status-bar">
                    <span id="statusText" class="status-text">Ready</span>
                </div>
            </section>

            <!-- Advanced Controls (collapsible) -->
            <section class="advanced-section">
                <button class="accordion-toggle" id="advancedToggle">
                    <span class="toggle-icon">▼</span>
                    Advanced Controls
                </button>
                <div class="accordion-content" id="advancedContent">
                    <div class="parameter-grid">
                        <div class="param-group">
                            <label for="pitchShift">Pitch Shift:</label>
                            <input type="range" id="pitchShift" min="-20" max="20" value="0" disabled
                                title="Not implemented in static version yet">
                            <span id="pitchValue">0</span>
                        </div>
                        <div class="param-group">
                            <label for="speedFactor">Speed:</label>
                            <input type="range" id="speedFactor" min="50" max="200" value="100">
                            <span id="speedValue">100%</span>
                        </div>
                    </div>

                    <div class="phoneme-list-section">
                        <h3>Phoneme Reference</h3>
                        <div id="phonemeList" class="phoneme-grid">
                            <!-- Populated by JavaScript -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Info Section -->
            <section class="info-section">
                <div class="info-card">
                    <h3>About TI-Speak</h3>
                    <p>
                        This simulator recreates the iconic speech synthesis of the
                        <strong>Texas Instruments TI-99/4A</strong> home computer's Speech Synthesizer module.
                    </p>
                    <p>
                        The original hardware used the <strong>TMS5220</strong> chip, which implemented
                        <strong>Linear Predictive Coding (LPC)</strong> to compress and synthesize human speech.
                    </p>
                    <div class="tech-specs">
                        <span class="spec">8 kHz Sample Rate</span>
                        <span class="spec">LPC-10</span>
                        <span class="spec">40 Hz Frame Rate</span>
                        <span class="spec">Client-Side Synthesis</span>
                    </div>
                </div>
            </section>
        </main>

        <footer class="footer">
            <p>TI-Speak v1.0 | Port 7199 (TI99)</p>
            <p class="disclaimer">Not affiliated with Texas Instruments</p>
        </footer>
    </div>

    <!-- Loaded as module for ES6 imports -->
    <script type="module" src="app.js"></script>
</body>

</html>